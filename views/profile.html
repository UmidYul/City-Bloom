<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile ‚Äî City Bloom</title>
    <link rel="stylesheet" href="/styles.css">
</head>

<body class="profile-body">
    <div class="app profile-app">
        <header class="profile-header" aria-label="–ü—Ä–æ—Ñ–∏–ª—å">
            <button class="icon-button" id="settingsButton" aria-label="Settings">
                <span aria-hidden="true">‚öôÔ∏è</span>
            </button>
            <h1 class="header-title">Profile</h1>
            <button class="icon-button" id="notificationsButton" aria-label="Notifications">
                <span aria-hidden="true">üîî</span>
                <span class="dot" id="notificationDot" hidden></span>
            </button>
        </header>

        <section class="card profile-card" aria-live="polite">
            <div class="avatar" id="avatar" aria-label="Alex Green avatar" tabindex="0"></div>
            <div class="profile-meta">
                <div class="profile-name" id="name">Alex Green</div>
                <div class="profile-role" id="role">Forest Guardian</div>
                <div class="profile-a11y" id="voiceLabel">–ü—Ä–æ—Ñ–∏–ª—å, Alex Green, Eco points 1250</div>
            </div>
            <div class="profile-actions">
                <button class="chip" id="editProfileButton">Edit</button>
            </div>
        </section>

        <section class="card eco-card" id="ecoCard" role="button" tabindex="0" aria-label="Eco-Points">
            <div>
                <div class="eco-points" id="ecoPoints">1,250</div>
                <div class="eco-label">Eco-Points</div>
                <div class="eco-subtitle">Plant. Care. Earn. Make Your City Bloom</div>
            </div>
            <div class="eco-confetti" aria-hidden="true"></div>
        </section>

        <section class="stats-section" aria-label="Quick stats">
            <div class="section-heading">Quick Stats</div>
            <div class="stats-grid" id="statsGrid">
                <button class="stat-pill" data-key="trees" aria-label="Trees Planted">
                    <div class="pill-label">Trees Planted</div>
                    <div class="pill-value" id="treesValue">12</div>
                </button>
                <button class="stat-pill" data-key="care" aria-label="Care Actions">
                    <div class="pill-label">Care Actions</div>
                    <div class="pill-value" id="careValue">85</div>
                </button>
                <button class="stat-pill" data-key="impact" aria-label="Impact Area">
                    <div class="pill-label">Impact Area (sq. ft.)</div>
                    <div class="pill-value" id="impactValue">240</div>
                </button>
            </div>
        </section>

        <section class="card badges-card">
            <div class="section-heading">My Eco-Badges</div>
            <div class="badge-list" id="badgeList"></div>
            <div class="skeleton-row" id="badgeSkeleton">
                <span class="skeleton badge-skeleton"></span>
                <span class="skeleton badge-skeleton"></span>
                <span class="skeleton badge-skeleton"></span>
            </div>
        </section>

        <section class="card activity-card">
            <div class="section-heading">Recent Activity</div>
            <div id="activityList" class="activity-list"></div>
            <div id="emptyActivity" class="empty-activity" hidden>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏. –°—Ç–∞–Ω—å –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –ø–æ—Å–∞–¥–∏—Ç –¥–µ—Ä–µ–≤–æ!</div>
            <div class="skeleton-column" id="activitySkeleton">
                <div class="skeleton activity-skeleton"></div>
                <div class="skeleton activity-skeleton"></div>
            </div>
        </section>

        <div class="offline-banner" id="offlineBanner" role="status" hidden>
            –û—Ñ—Ñ–ª–∞–π–Ω ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
        </div>

        <div class="error-banner" id="errorBanner" hidden>
            <span>–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</span>
            <button id="retryButton">Retry</button>
        </div>
    </div>

    <nav class="bottom-nav">
        <a href="/" class="nav-item">
            <span class="icon">üè†</span>
            <span>Home</span>
        </a>
        <a href="/register-tree" class="nav-item">
            <span class="icon">üó∫Ô∏è</span>
            <span>Map</span>
        </a>
        <a href="#" class="nav-item active">
            <span class="icon">üë§</span>
            <span>Profile</span>
        </a>
        <a href="/ranking" class="nav-item">
            <span class="icon">üë•</span>
            <span>Community</span>
        </a>
    </nav>

    <div class="modal" id="editModal" aria-hidden="true" role="dialog" aria-label="Edit profile">
        <div class="modal-content">
            <div class="modal-header">
                <div>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</div>
                <button class="icon-button" data-close-modal>&times;</button>
            </div>
            <form id="editForm">
                <label for="nameInput">–ò–º—è</label>
                <input id="nameInput" name="name" type="text" maxlength="50" required placeholder="Alex Green" />
                <label for="roleInput">–†–æ–ª—å</label>
                <input id="roleInput" name="role" type="text" maxlength="30" placeholder="Forest Guardian" />
                <label for="bioInput">–ë–∏–æ</label>
                <textarea id="bioInput" name="bio" rows="3" placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–µ–±–µ"></textarea>
                <div class="modal-actions">
                    <button type="button" class="secondary" data-close-modal>–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="badgeModal" aria-hidden="true" role="dialog" aria-label="Badge details">
        <div class="modal-content">
            <div class="modal-header">
                <div id="badgeModalTitle">Eco-Badge</div>
                <button class="icon-button" data-close-modal>&times;</button>
            </div>
            <div id="badgeModalBody" class="badge-modal-body"></div>
        </div>
    </div>

    <div class="quick-actions" id="avatarQuickActions" hidden>
        <button id="quickEditPhoto">–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ç–æ</button>
    </div>

    <script src="/nav.js"></script>
    <script src="/profile.js"></script>
</body>

</html>
