# Промпт для Claude: обнови UI City Bloom по мобильным макетам

**Задача:** максимально точно воссоздай мобильные макеты (профиль, регистрация посадки, лидерборд, магазин/бонусы) в статике `views/` и `public/`, подключая существующие эндпоинты без изменения серверной логики.

## Контекст кода (используй как подсказку, а не как строгий шаблон)
- Node.js + Express, страницы — `views/`, клиентские скрипты — `public/`, маршруты/эндпоинты — `index.js`.
- Авторизация через cookie JWT. Текущий пользователь — `GET /api/me`; редирект на `/login` при отсутствии сессии.
- Посадки: отправка `POST /api/submitPlant` (`title`, `plantType`, `location`, `lat`, `lng`, `description`, файлы `beforeVideo`, `afterVideo`). Мои посадки — `GET /api/mySubmissions`; карточка — `GET /submission/:id`.
- Профиль: `GET /api/users/:id`, ранг `GET /api/users/:id/rank`, мой ранг `GET /api/my-rank`. Баллы и доверие в `points`, `trustRating`.
- Рейтинг: `GET /api/ranking/city/:city`, глобальный `GET /api/ranking/global`.
- Магазин/бонусы: товары `GET /api/products`; покупка `POST /api/redeem/:id`; мои промокоды `GET /api/myPromos`.
- Примеры навигации/заполнения: `views/main.html`, `views/profile.html`, `public/main.js`, `public/profile.js`, `public/nav.js`.

## Жесткие требования по точности макетов
- Цвета и фон: основной зелёный `#24b06b`, тёмный для текста/иконок `#1c1c1c`, фон экранов `#f7f8fa`, белые карточки `#ffffff` со скруглением `16px` и тенью `0 8px 24px rgba(0,0,0,0.08)`.
- Шрифты и размеры: базовый шрифт без засечек (системный или Inter); заголовки h1 24–28px жирные, подписи 12–14px средние, основная копия 15–16px. Плотные вертикальные отступы 12–20px, горизонтальные поля 16px.
- Кнопки: высота 48–52px, скругление 14–16px. Основная кнопка — зелёный фон `#24b06b`, белый текст, тень `0 6px 18px rgba(36,176,107,0.35)`, состояние disabled — `#b7e6cd`. Вторичная — белый фон, зелёный контур `1.5px solid #24b06b`, текст зелёный.
- Поля ввода: фон `#f0f3f6`, скругление 12px, высота 46–50px, placeholder тёмно-серый `#7a818a`, фокус — обводка `1.5px solid #24b06b`.
- Карточки списков: аватар/иконка слева, текстовые блоки справа; отступы внутри 14–16px; разделители `rgba(0,0,0,0.06)`.
- Навигация снизу: фон белый, тень `0 -4px 16px rgba(0,0,0,0.08)`, активный пункт — зелёная иконка/лейбл, неактивный — серый `#9ea4ae`.
- Изображения и медиа: превью видео с закруглением 14px, контролы минималистичные; иконки плоские линейные в едином стиле.

## Что попросить у Claude
### Экран «Профиль»
- **Шапка:** фон экрана `#f7f8fa`, сверху белая карточка с тенью. Слева аватар (круг 64–72px, тонкая белая обводка), справа имя (h1 26–28px, жирный). Под именем — роль/статус бейджем на плашке `#e6f6ed` (текст `#24b06b`, скругление 12px). Справа или ниже — крупный баланс поинтов (32–36px) с подписью «Points» мелким серым.
- **Блок «Trust & Rank»:** карточка с двумя колонками: слева прогресс-бар доверия (фон `#e6f0f4`, активная полоса `#24b06b`, высота 10–12px, скругление 8px) и числовой процент; справа ранги City/Global с мини-иконками и местом в рейтинге.
- **Блок «Last activity»:** вертикальный список карточек 90–110px, каждая с датой (14px, `#7a818a`), названием действия и суммой очков (зелёный «+XX pts»). Разделители `rgba(0,0,0,0.06)`.
- **Блок «Achievements»:** сетка 3–4 в ряд с квадратными бейджами 72–80px, скругление 14px, фон `#f0f3f6`. Пустые — полупрозрачные заглушки с иконкой-замком и подписью «Coming soon» 12px.
- **Кнопки:** внизу или в фиксированной зоне: «Edit profile» (вторичная) и «Shop / Promos» (основная зелёная). Отступы 16–20px, две колонки по 50% с зазором 12px или full width. Хендлеры навигации переиспользуют текущие функции.
- **Нижняя навигация:** белая плашка с тенью; активная вкладка профиля выделена зелёной иконкой и подписью.

### Экран «Регистрация посадки»
- **Хиро:** верхний блок с иллюстрацией/иконкой посадки на белой карточке, заголовок 24–26px «Register your planting», подпись 14–15px серым. Фон страницы `#f7f8fa`.
- **Форма:**
  - «Title» (текст), «Plant type» (селект или табы-пилюли 90–110px: активная — фон `#24b06b` и белый текст, неактивная — `#f0f3f6` и серый текст).
  - «Address» + кнопка `Use Current Location` (вторичная, иконка гео). Поля `lat`/`lng` в одной строке или стеке на мобиле.
  - «Description» многострочное, высота 100–120px.
  - «Before video» и «After video»: зона загрузки — белая карточка с пунктирной рамкой `#cdd5df` и иконкой. После выбора: превью со скруглением 14px, прогресс-бар и статус (uploading/processing/ошибка). Отправка multipart на `/api/submitPlant`.
- **CTA:** `Plant it!` высотой 50–52px, full width, фиксирована внизу или под формой. Активна только при заполнении обязательных полей и наличии обоих видео. В загрузке — спиннер + текст «Submitting…».
- **Состояния:** ошибки подсвечиваются красной подписью 12px под полем, disabled до ввода данных, toast/alert при ошибке API. После успеха — экран подтверждения (зелёная галка, текст «Plant registered!», кнопка «View submission»), затем очистка формы.

### Экран «Лидерборд»
- **Табы периодов:** пилюли This Week / This Month / All Time в фиксированном блоке. Активная — фон `#24b06b`, белый текст; неактивные — белый фон с зелёной обводкой `#24b06b` и зелёным текстом.
- **Переключатель города/глобал:** два сегмента со скруглением 12px; активный зелёный, неактивный серый `#9ea4ae`. Данные — `GET /api/ranking/city/:city` и `GET /api/ranking/global`.
- **Топ-3:** карточка-подложка с мягким зелёным градиентом. Аватары 80–96px с номерами/коронами, под каждым имя и очки жирным. Номера можно выводить в маленьких кружках поверх аватаров.
- **Список остальных:** строки с номером в кружке, аватар 48px, имя и очки справа. Межстрочный отступ 12–14px. Карточка «You» закреплена внизу: белый фон, тонкая зелёная рамка, показывает место, очки, дельту (+/-) и кнопку «See profile».
- **Пустые/загрузка:** скелетоны (полосы и кружки), при пустом ответе — сообщение «No data yet» с серой иконкой.

### Экран «Магазин / бонусы»
- **Категории:** горизонтальные вкладки (Rewards / Promos / Badges) с активной зелёной подложкой и белым текстом; при прокрутке табы фиксируются сверху.
- **Список товаров:** сетка или список 1–2 в ряд. Карточка: иконка/картинка 72–90px слева, справа название 16px жирным, цена в поинтах зелёным, описание 13–14px. Состояния кнопок: `Redeem` (зелёная), `Claim` (вторичная), `Claimed` (фон `#e6f0f4`, галка, текст `#1c1c1c`). При недостатке очков — disabled с текстом `Not enough points` и `cursor: not-allowed`.
- **Мои промо:** блок «My Promos» под товарами. Карточка: белый фон, скругление 14px, код крупным моноширинным шрифтом, статус цветом (зелёный Active / серый Used), кнопки copy/share-иконки. Пустое состояние — «You have no promos yet».
- **Шапка/баланс:** сверху текущие поинты крупно + мини-кнопка «Top up» (вторичная). После `POST /api/redeem/:id` обновляй баланс из ответа.

### Интеракции и логика (для всех экранов)
- Не придумывай новые API; все действия идут на существующие маршруты (см. Контекст). fetch/axios с сохранением текущих заголовков и форматов (multipart для видео, JSON для остального). При ошибках показывать toast/alert в стиле макета.
- Обязательные проверки на авторизацию: если `/api/me` 401 — редирект на `/login` до загрузки приватных страниц.
- Навигация снизу остаётся, но стилизуй под макет. Активный пункт — подсветка иконки/лейбла; клики вызывают существующие переходы/скрипты из `public/nav.js`.
- Для заглушек (бейджи, истории) оставь мок-данные с понятными классами/хендлерами для будущих API.

6. **Выход от Claude**
- Сформируй точные патчи для файлов `views/*` и `public/*`, не трогая серверную логику `index.js` (кроме крайних случаев для статического подключения).
- Сохрани текущие пути/скрипты, не удаляй обработчики, только переиспользуй и стилизуй.
- Код должен быть самодостаточным: все стили/JS, необходимые для макета, в соответствующих файлах или через импорт существующих ассетов.

## Дополнительные тонкости
- После сабмита посадки показывай подтверждение/статус (успех/ошибка) и очищай форму при успехе.
- При загрузке списков показывай skeleton/placeholder, чтобы макет не «прыгал».
- Переиспользуй существующие переменные окружения/константы, не добавляй новые конфиги без необходимости.
- Анимации — лёгкие (100–200ms ease-out) на нажатие кнопок и табов.